https://www.nowcoder.com/discuss/110317


# C++
- 深拷贝，浅拷贝，写一个出来
- 智能指针的名字是啥，在程序里面
- 堆栈区别
- new，malloc区别
- 纯虚函数怎么定义，写一个出来
- 函数后面接const是什么意思
- 栈溢出有哪些情况
- 写一个函数指针
- 一致性哈希
- 红黑树
- 特别大的数据量，实现查找，排序(说了个桶和树)
- 有看过c＋＋的一些库吗(吭吭唧唧说自己看过容器的代码)
- c＋＋你看的最久的一章是哪一章，c＋＋primer最熟哪一章
手写简单的一个线程
手写多个线程按顺序执行
手写一定区间的随机数
给个序列，告知快排一次之后的序列
手写两个链表合并
手写n*n矩阵中2*2的小正方形最大值
Top k用什么排序算法？数据量很大怎么优化？堆排序，分而治之再加上堆排序在合并求top k

4-一个三个字段的数据表，id,name,age，写一个where查询，写一个按照年龄分组求每组有多少人。直接用case when分组再group by后count

5-怎么删除重复记录？我说select distinct建立新表，或者partition by后选出第一条。。之前看过用delete来写，我忘了。。

6-给你两个有序数组，合并排序一下？我说用Python直接合并排序下就是。。他就问你不会底层语言写对吧，我说不会。。其实后来我想了下我会写。。直接头部一个个判断添加到新的数组就行。。

二分查找的实现原理

知道哪些设计模式
手写单例
手撕代码：输入一个正整数，得到和等于这个正整数的全部正整数连续序列
场景应用：对于一个人的手机号，需要知道手机号关联的信息去判断信贷等级，这样可能会遇到什么问题，如何解决
（这题涉及范围太广，没答到点上，后来问高并发怎么解决，我说没做过相关的项目不会）
数据库的脏读是什么，怎么解决脏读问题
数据库三个范式
还知道数据库哪些知识
网络相关的内容知道哪些

redis
SQL注入讲一下,哔哩哔哩...
Http和Https有什么区别，哔哩哔哩...
用过哪些web服务器（Tomcat，但是没深入学习）。
如果服务器希望推送消息给客户端，应该采取怎么样的方式（
WS，长链接，轮询，这个还是我做爬虫时学到的知识，感谢），哔哩哔哩...
Linux用过没，查看文件内容用啥指令，哔哩哔哩...
最近一年看过哪些书，印象深刻有哪些，挑一本给我讲下（Redis设计与实现），然后大致介绍了下书上内容，哨兵了解吗？然后哔哩哔哩，高可用，主观下线，客观下线啥的。

二级指针是什么
泛型编程

1.const
2.static
3.写一个memcpy
4.你会什么,说一下
装一下 讲了字典树和跳表
讲一些具体实现

后面就问tcp udp
线程进程
最后问了一个算法
象棋中马从A到B最短走几步
答bfs
问可否优化
想不出就说还是bfs 不过先建表算出来放表里存着直接查


面试官:我有一个森林，在二维坐标系中用一堆点表示，现在我要用一根绳子把树林围起来，求绳子的最小长度。
我:一脸懵逼，但还是要装着想一波，然后装着回答一波balabala。
还没完。
面试官:我有一个系统，现在从1.0升级到2.0。但不幸的是，2.0版本出了点问题，你怎样回滚到1.0版本。
我:再次一脸懵逼。balabala。。。。
面试官:好，那么我（我:卧槽，还来?！）现在把一个系统从1.0升级到2.0，但是升级过程中不能重启，又不影响系统的服务。你有什么方法?
我:。。。。。。卒


1.手写memcopy.
2.进程间通信
3.在TCP报文的画出三次握手的全过程。
4.一道智力题：100层楼，有两个玻璃球，有唯一一层，从该楼层及以下楼层扔下玻璃球不会碎，从该楼层以上扔玻璃球会碎，请用用两个玻璃球找出该层（最小的时间复杂度）。
1.手写
删除s1中s2出现过的字符；双向链表创建删除等；给一个文件，合理匹配大括号小括号和中括号；MYSQL：创建一个表吧，三行三列。
2.ARP用来做什么？滑动窗口是?那个值代表什么意思？
3.linux网络编程熟悉吗？UNIX网络编程那本书你看过吗？那好我来考考你：服务器端，接收多个客户端发来的数据，如何接收？
面试官大致意思：a)判断是传过来的socket中的端口否为指定的端口.  b)已经判断端口了，还要判断是不是想要接收的数据 b)具体的接收部分(写个buffer去接收)   c)数据校验  d)等等。。。

1)如何用数组实现链表的功能？(数组中存放一个结构体，一个表示数据，另外一个表示其下一个节点在数组中的index，以便于快速插入删除)
2)linux下有哪些信号?
3)https中的pipeline?多个相同请求的时候一次返回
4)函数指针的作用?
5)如何实现一个非定长的结构体? -长度为0的数组(a[0])
6)strcpy实现方法及其缺点，strncpy？
7)野指针？
8)linux io和标准io区别？
9)http网址访问过程，get post区别？

1)讲熟悉的项目，讲讲项目难点？
谈谈io复用，select？
谈谈项目***享内存实现方法？
2)linux 下编译调试方法，如何调试内存泄露问题？
3) 给几百万个网址，如何高效找出特定网址是否在其中?(布隆过滤器)
布隆过滤器优缺点，如何解决其缺点？
4)给一容量较大非法单词词典，如何判断某输入中是否有非法单词?
建立字典树--实现一次遍历就可做出判断

1、画堆排序过程，复杂度分析。
2、画平衡二叉树建立过程。
3、画红黑树构造过程。(这个不会了。。。)
4、虚析构作用。
5、什么叫重载，继承，隐藏。
6、什么函数不能声明为virtual。
7、extern C的作用。
8、讲一下快排。
9、算法题，O(n)内旋转字符串。
10、算法题，文件中有大量数字，排序并保存到结果文件中。
11、memcpy的实现。
12、TCP快重传。(记成快恢复了。。。)

1.sizeof 各种基本类型 结构体 类

2.继承和多态

3.栈在实际编程的时候有哪些应用场景

4.广搜用什么数据结构

5.浮点数判断是否相等

6.手写代码 字符串反转 有时间和空间复杂度限制

7.手写代码 字符串循环移位 面试官让优化复杂度 没想出来(要用到上一题的字符串反转)

8.统计一篇英文文章出现频率最高的十个单词

9.new和malloc

10.智力题 4刀把一个圆柱形蛋糕切16块

3.给了一张题表 面试官直接点题目号让我回答上面的问题 点了四个问题 都是比较简单的问题 概率 斐波那契数

4.问笔试编程题的一三题，木板那道说了自己的思路有把另外一个老哥用栈解法的思路说一遍，第三题比较简单

5.实现strcpy，要考虑内存重叠和特殊情况处理

选择题：Linux多线程、信号、*作系统、C。
填空题：简单的数学和概率

Q：象棋中马从一个位置跳到另一个位置的最少步数
A：手写BFS

Q：一次可以上一层台阶，也可以上两层台阶，到第N层有多少种走法
A：F[N]=F[N-1]+F[N-2]

Q：一分钟内经过公交车的概率为p，求三分钟内有公交车经过的概率
A：P=1-(1-p)^3

Q：strcpy和memcpy的区别
A：复制的内容不同，strcpy无需指定长度，遇到'\0'为止

Q：那strncpy呢？
A：我没用过

Q：你怎么判断两个struct相等？
A:我会选择重载==运算符，逐一比较成员变量是否相等

Q：那能不能用内存比较memcmp来判断呢？
A：不能，涉及字节对齐，可能有内存间隙，这里的值是随机的

Q：进程间的通信有哪些方式？
A：管道、有名管道、（信号、信号量、）共享内存、消息队列、socket

Q：epoll和select/poll的区别
A：epoll是实现I/O多路复用的一种方法,有水平触发（level trigger，LT，默认)和边缘触发（edge trigger，ET）两种工作模式，区别在于两种模式的返回就绪状态的时间不同。水平触发和select/poll的方式一样

水平触发
读：缓冲内容不为空返回读就绪
写：缓冲区还不满返回写就绪
边缘触发
读：
缓冲区由不可读变为可读
新数据到达，缓冲区中待读数据变多时
写：
当缓冲区由不可写变为可写
当有旧数据被发送走，即缓冲区中的内容变少的时候
epoll之所以高效，是因为epoll将用户关心的文件描述符放到内核里的一个事件表中，而不是像select/poll每次调用都需要重复传入文件描述符集或事件集。比如当一个事件发生（比如说读事件），epoll无须遍历整个被侦听的描述符集，只要遍历那些被内核IO事件异步唤醒而加入就绪队列的描述符集合就行了。

Q：在TCP连接中，服务端的socket要做哪些？
A：socket->bind->listen->accept->send/recv

Q：堆和栈的区别？
A：堆是一颗二叉树、栈是一个单向进出的线性结构

Q：堆排序和快排的区别？
A：快排的思想是分治，每次选择当前范围的第一个数作为标杆，然后再将这个范围的所有比它小的数放到他左边，大的放到他右边，由这个标杆的现在位置划分出两个范围，分别对这两个范围的数再重复这样的*作，直到范围大小为1
堆排序则是在建堆的时候保证堆顶最小，然后每次取堆顶

下面应该是面试官自己出的一些题目

Q:XML是什么结构？
A:树

Q：用过正则表达式吗？写一个32位IP地址的正则
A：用过，忘记了不好意思

Q：进程和线程的区别？
A：这个没背，只回答上了几句话

cache的工作原理

1.结构体变量比较是否相等，用什么方法。说完以后问我为什么比较之前要进行内存填充，然后又问结构体在内存里为什么要进行内存对齐。回答是为了提高cpu读取内存的效率更高。问改变内存对齐字节数如何弄，回答用宏定义改变，
2.问了c里面的位域问题，回答了位域的作用以及基本的东西。最后小哥问如果int a:4;int b:4，a,b在内存里如何存储，我说共用一个字节的内存。小哥说估计黑人问号脸，说我知道是一个字节存储，那它们在内存具体是怎么存储，然后我说不知道.........
3.问了c里面的可变参数，如printf，然后说了好几个英文的什么函数调用方式？？没听懂....直接下一题（尴尬）
4.问如果写一个头文件要既能调用c的代码，也能调用c++的代码该如何具体声明，让我写出具体声明念给他听，我说了extern C,他说那只能c++里调用c,反过来呢？
5，设计一个数据结构，存储ipv4和ipv6,在具体代码里面遇到ipv4存储ipv4格式,遇到ipv6存储ipv6格式，如何设计，本来想说用继承的方式，小哥说只能用纯c的数据结构设计，答：不会。
6，懂网络编程吗。不太懂。
7，问了一篇文章中统计频率最高的前十单词，回答：map+size为10的最小堆，从第十一个依次和堆顶元素进行比较，然后调整堆结构，面试官说应该用最大堆，我说应该用最小堆，面试官说用最大堆，我说。。。。。依次循环。，

说一下new和malloc的区别（我：new是分配+构造，malloc只分配不构造；new是操作符，malloc是库函数）
说一下虚拟地址是怎么映射到物理地址的，说一下这个过程（操作系统不熟完全记不得这个东西了，我就扯了说有个转换表这样的东西，虚拟地址前几位是找到对应的页，然后后面几位对应的就是偏移量这样子，然后他说这只不过是找到页表而已。我也不知道是什么，就说不大清楚了）
STL有了解过吗？里面空间分配是怎么样的？（然后我说了用allocator类来实现空间分配，有一级配置器二级配置器，还没说完就被打断了）
不是问你这些，我换个说法吧，如果用让你写一个STL的空间配置器，这个配置器需要经常分配大量的小内存，但大量的分配小内存会造成内存碎片，你会怎么解决这个问题？（然后就跟他扯了一些二级配置器是怎么实现的）
那如果用你实现的配置器分配的空间是怎么释放的？（然后我说用allocator分配就用deallocator释放，然后释放的内存就放回到空闲块链表中）
我是问这些释放的内存怎么交回给系统？（我：额。。。这个程序关掉就交回去咯）
那假设系统只有100m内存你已经用了20m了，这样下去不是会爆内存吗？（我：这个我不大清楚了）
对c了解不？（我：了解，但写的比较少）
那问你个c里面数据结构体的问题，能不能直接用内存比较的方法比较两个struct对象？（我：不行，struct会有内存补齐。然后想举个例子说明一下为什么不行，想到一半就卡壳了，对面就直接说行了不用说了。现在想了下应该是补齐之后内存地址里面的垃圾值会造成影响，当时面到后面都有点乱了，脑子宕机了T-T）
网络这一块有了解过吗（我：学过计网）
那tcp里面的time_wait状态知道吧，说一下（我：保证服务器重发一个FIN之后，客户端也能对这个进行应答，然后也保证处理到迟到的数据包）
如果有4亿个数，你只有1G内存，你怎么判断某个数已经出现了（我：这个可以用位图来做吧，四亿个位，数n出现了第n位就置1，最后判断某个位是不是1就行）

【百度】
2进程之间怎么信息共享，相互通信，本人太渣，只回答出两个

3问有没有用过shrink_to_fit，说一下作用，为什么用

4项目中用了整形，那哪里用了锁

5线程与线程之间怎么通信，用的什么机制

6虚函数的两种情形下怎么用，为什么用虚函数
还有几个记不清了
然后手撕代码
第一个字符串比较，利用三种方法写的，面试官比较喜欢第三种，说挺好
第二个是链表，用了4种方法，第四种是在面试官的提醒下完成的。
第三个回溯法，本人对回溯法没有了解太深，写的代码太麻烦，想不出第二种
core dump，出现段错误的原因
哈希表 如何实现 冲突解决
hash table用什么实现，最差插入时间复杂度
函数值传递一个百万个元素的vector会怎么样？为什么?
c 内存分布?

一个二维地图，每个格子有不同分数，求机器人从左下到右上的最大分数的路径。

评价:需要加强计算机体系结构，(计算机组成原理？是的)

求一个数组逆序对
三次握手四次挥手的状态字，为什么3次，为什么4次
求最大连续子数组
一次完整的http链接过程，应用层到数据链路层，越详细越好
http https区别
设计模式的了解，单例模式
数据库。。不太会，谢谢  介绍了b树，b 树，和一些数据库设计优化方法，具体怎么做。。不
死锁，死锁预防，死锁避免，死锁检测
进程同步
还有一个算法题，忘了

评价：计算机网络不错，需要加强网络编程
算法 最小生成树
cpu调度
成员函数的前后const
算法 最短路径
会多线程吗？  不会谢谢，介绍了多线程的同步方式，和多进程的区别，进程，线程区别
算法 快排topk
虚拟内存和物理内存的区别

评价：代码能力不错，需要加强基础

2、进程线程区别？
    谈谈项目中的多线程和线程池？
3、linux下如何快速将文件每行倒序输出？shell或者编程都行，说了下python和c++实现方法，结果人考的是tac命令
4、手撕代码-输出字符串中最长的回文子串长度？写完了不会优化
5、TCP-UDP区别？
    描述四次挥手过程，以及timewait、closewait？
    timewait过程如果出现过多拥塞或者网络不稳定导致很多非正常数据该如何解决？
    linux下如何查看特定端口有多少tcp连接？
6、手撕sql查询排序？
    如何通过索引优化该sql？
    谈谈Innodb中b+树？myisam和Innodb中b树有什么区别？
7、了解数据结构？图如何表示？图广度遍历用什么结构？
8、是否熟悉docker镜像制作？了解docker-compose？

一面大概只记得这么多了，表示好多不会，在面试官的带领下坚持了70分钟的样子，面完让等结果（通过了就继续二面）。

二面：
1、简单自我介绍？
2、谈谈你熟悉的项目，项目遇到了哪些难点？
3、char (*p) [] 、char *p[]、char (*p)()的区别？
4、熟悉设计模式？手写下单例模式？
5、手撕代码int atoi(char *str)？
6、谈谈web上访问网址的过程？
    说说DNS如何找到ip和port的？若本地和局域网查找不到，如何向上层查找（DNS服务迭代查询和递归查询的流程）？
    谈到socket通信，说说握手过程，为何三次握手？
    谈到get、post了，get和post的原理和区别？
    直到http和http2区别？
    熟悉https，https中加密实在哪一过程进行了？
    说说ssl加密原理？
7、说说select、poll、epoll区别？
8、熟悉句柄么？程序执行后句柄如何处理，如何修改可打开句柄数量？
9、数组存中在一个大于n/2次的数，如何以最优方法查找它？
10、用栈实现队列，用队列实现栈？
11、如何设计一个高并发的分布式服务器？
12、64匹马、8赛道，知识多少轮比赛找出速度最快的4匹马？（在提示下优化到12次，最优解为10或者11次）


1. 首先是3次握手（已经被问过n多次）。
2. 然后是select，epoll，但是问的很隐晦，大致是在问我TCP接收到报文后内核和上层报文之间怎么交换，但是刚开始没太听懂他在说什么，所以我重复问了一下，但是他自己却把过程说了出来，可能是因为本人是本科生，他觉得我不知道相关知识的缘故吧。
3. 问了一下流量控制，还是很隐晦，当时大概问的是“一个服务器有很多TCP连接，然后某一时刻他可能来不及处理接受到的数据，这时候该怎么办？”。坦白说刚开始听到我是比较懵B的，但是仔细想过之后发现这好像就是流量控制，所以很流利的回答了流量控制，顺道说了一下原理。
4. 然后问了一点有关操作系统方面的知识，shell命令。
5. 开始数据结构，首先是哈希解决冲突的办法。
6. 用拉链法设计一个哈希类，要求把链换成STL中的map。（手写代码），写完之后他说不是线程安全的，让改一下。

1. 向一个文科生解释一下指针和引用的差别。。。。。。（我表示很无语，但是一时紧张有却时想不到什么好的解释）。
2. 再解释一下对象和类。。。。。。（和上面一样，不知道从何入手）。
3. 开始了算法，先问我二叉树学过吗，然后让我设计一个节点，再然后让我比较两棵树是否相同（手写代码）。现在我才明白，大概是在考我用递归怎么遍历树，我当时写的居然是以按层遍历的方式去遍历树，然后两棵树逐个节点作对比。
4. 让我反转一个字符串。。。。。。（手写代码）。


1.进程与区别
2.3次握手与各个状态
3.DNS解析过程
4.ARP解析过程
5.事务特性
6.算法：一个字符串中{}  [ ]  ()匹配问题，好像是leecode上面的~
二面：
1.TCP ,UDP，
2.Linux命令，延伸：netstat，top，free -m 都显示了什么有什么含义？
3.进程间通讯，你用过什么？
4.文件系统，文件名和文件权限是存在一块的吗？（innode不存文件名，存权限，访问日期，指向数据的指针等等）
5.一个文件的md5码会因为该文件名而更改吗？
6.从网上下载的各种 .ios软件包会改变md5码吗？
7.a,b两个文件，a文件存url，有1亿行。b文件存域名，有 1万行。  要求：找出a中不在b文件中的？时间复杂度是多少？  没有内存限制。
回答：1.先提取a文件的url中的域名（这个不会，是用awk吗？）2.hash+字典树。       时间复杂度有老铁会的吗？
三面：
1. DNS解析过程
2.输入url的过程，知道的协议都说说，IP路由选路，ARP等等
3.有查看过三次握手中socket状态吗？就是书本上的那些状态有看过吗？
4.你的项目muduo中是如何体现TCP和http协议的，说一个亮点或者结合点，只是会用还是有过优化？


多路归并排序知道吧，怎么做
M：是要写归并排序吗
D：不是，多路，就是好几个数组

top K知道吧，大根堆还是小根堆，是不是都可以，实现
C、c++什么区别
linux内核是吧，讲下文件系统实现吧
讲下进程、内存管理你比较熟悉的，进程间通信
读写锁知道吧，写个多个读者读，阻塞写者的实现。
SQL了解吧，能写语句吗
讲下关系型数据库和K-V数据库的特点
TCP三次握手 ，为什么三次不是两次


1. 1G内存，4G url，求重复的url
2. 手写二分
3. Linux命令，find，grep，ps，netstat...
4. Python的tuple
5. C 与Cpp的区别
6. const/define
7. C语言内存布局

1. Linux kvm，GPU 直通，SRIOV
2. CPU架构，NUAM，SMP
3. Guest OS发个网络请求，到Host OS，再到硬件的过程
4. CPU cache结构，是否共享
5. TCP握手过程，为啥三次
6. DDOS，怎么解决，如何让Server端收到ACK后在分配资源，不改变Client，不封装IP数据包
7. 如果把访问次数过多的IP拉入黑名单，怎么实现，用什么数据结构，写个伪码
8. hash冲突怎么解决
9. 多线程操作一个hash表呢？用什么锁？
10. 读写锁说一下，怎么使用
11. C语言const，static
12. C语言volatile，说个应用场景
13. 手写判断大小端的代码
14. C语言内存布局
15. 分段分页机制
16. 逻辑地址到物理地址过程


开始问一些操作系统，计网的知识：
1.死锁是怎么产生的
2.有没有写过多线程？
3.调度算法有哪些？
4.三次握手四次挥手画图解释一下
5.UDP和TCP区别
6.HTTP和HTTPS介绍一下，区别是什么？
7.HTTPS的安全性是怎么实现的？
8.HTTP有哪几种操作？

输入www.baidu.com在浏览器的完整过程，越详细越好
说一下cache吧，同步和互斥，怎么样去加锁
c++里面的同步和互斥怎么实现的
c++里面的常量怎么定义
Q：c++里面的常量怎么定义
A：const和constexpr（这个面试官可能没见过，然后解释了一下）
Q：我主要想说宏
A：这个不算常量，在编译器就已经被全局替换。然后说了一下宏的某些缺点，我一般不会用，balabala
Q：c++的智能指针说一下，区别
A：balabala
Q：c++怎么实现一个函数先于main函数运行
A：用static，balabala
Q：c++的static的变量的初始化顺序怎么样的
A：声明顺序就是初始化顺序
Q：如果一个类里面呢？
A：这里我答错了，我以为是初始化列表的顺序。。。。。。。。（第一次答错）
Q：两个文件，两个static变量a和b，怎么让某个变量先于另外一个初始化呢？
A：通过头文件的声明顺序
Q：其他用户不知道头文件的声明顺序怎么确定呢？
A：不知道。。。。（第二次没答出来）
Q：来一条设计题。百度搜索的智能提示怎么实现，输入两个字，出来一些热搜
A：字典树+堆吧，然后balabala（第三次。。。感觉面试官不是很满意我的答案)
Q: STL说一下
A：balabala

C++拷贝构造函数为什么传引用
如何返回值一个类的构造和拷贝构造
如果声明为私有的，那么是编译时错误还是运行时错误
vector越界访问下标
map越界访问下标
如何删除map中的奇数节点
指针和引用的区别
C++中内存泄漏问题
new和malloc的区别
TCP断开连接过程，timewait解释
HTTP中状态码 302(详细问) 403 400
连续子数组最大和问题

实习负责的模块是什么？遇到了什么问题和挑战?
C++多态，虚标指针在什么时候初始化
STL库的容器底层实现
红黑树的插入效率，为什么相对平衡的红黑树比绝对平衡的AVL适用广
B树和B+树的区别，B+树应用在哪?
哈希表的哈希冲突，解决哈希冲突的几种方法
进程间通信方式，每个都讲一下
网编程讲一下。
select和epoll，epoll底层实现，数据的拷贝方式。
求一个数开根号（二分）
讲一下timewait状态，没有timewait有什么问题
滑动窗口和拥塞窗口
慢启动和快重传
实现一个功能，能检测内存泄漏问题，通过一个指令输出整个进程中哪一行哪个函数申请了多少内存，按照顺序排列出来，还有总的内存数

谈实习工作
Linux下的内存机制
模板的分离编译
空类的大小，含有成员函数类的大小
链接过程(详细)
写个string类
关于找工作，生活的问题

进程、线程、携程的区别
进程创建子进程，fork详解
I/O模型介绍，细说slect和epoll。I/O多路转接阻塞?非阻塞？有什么问题?
数据库底层数据结构？说下为什么采用B+树？
数据库的ACID特性
数据库索引相关
知道那些非关系型数据库？
C++中struct和class区别
C语言struct和C++struct区别
如何用C语言实现C++的继承
inline相关，虚函数可以声明为inline吗？
说下虚表的原理
多重继承的问题，详解，对比一些开源框架中使用的多重继承来说？
了解RAII？说一下什么是RAII?应用？
智能指针，share_ptr和weak_ptr,细说weak_ptr?可以用原生指针吗？
了解那些分布式组件？说下Zookeeper和HDFS，说下CAP理论
了解哪些一致性算法
深度优先遍历和广度优先遍历的应用场景
项目中使用网络编程？简单说下？说下cgi？服务器采用什么结构？使用的epoll模型？
有序的数组，其他数都出现两次，一个数只出现一次？思路(数组无序异或，数组有序采用二分)

作者：C+++++++++
链接：https://www.nowcoder.com/discuss/96139
来源：牛客网

虚基类

纯虚函数

虚函数

虚函数表内存分布

虚函数中虚基类和派生类的关系

显示转换

问了三个算法题 讲讲思路

学过网络和操作系统吗

三次握手，四次挥手 握手为什么是两次

讲一讲拥塞机制 和流量机制

http https 抓包工具原理

IP地址分为几类？简单说一下分类

进程通信有哪些方式

进程同步的方法

知道互斥锁吗？

他用什么来保证共享数据的安全性？

这个我说信号量，他说如果用信号量来解决，现在出现一个状况，两段进程都被标记为可以访问该共享数据，但我们的共享单元只能支撑一个进程访问。这时候怎么办？

我说用唯一标识符去处理。生成唯一标识符，这样就不会出现这种情况。

他说不对。让我回去好好看看。

回去查了一下，是原子操作。。

(这个问题问了好久)


作者：C+++++++++
链接：https://www.nowcoder.com/discuss/96139
来源：牛客网

为什么继承时基类的析构一般声明为虚函数？

虚函数与纯虚函数的区别在于

为什么构造函数不能够使虚函数

4.TCP端口扫描方式

5.TIME_WAIT、CLOSE_WAIT

6.守护进程

7.迭代器的++it和it++哪个好

8.开始问项目，从百度二面开始。我的项目就一直被怼，完全吹不动。说几个核心的点。

9.因为说了tars 的源码，他就基于这个源码开始问。如何去处理高并发HTTP请求？

我: 从接入层(统一接入网关，负载均衡)…..从服务层(服务细分，过载保护)…..从存储层(cache,共享内存，分布式存储组件ceph)……

在服务层回答到 过载保护的时候。被打断。 他说你说的过载保护不过是在请求很多的时候去拒绝掉一部分用户。或者延时处理。那么 现在如果出现一个热点事件，百度的搜索可能会达到数十亿次，你去拒绝掉这一部分用户。那这一部分用户的用户体验怎么保证？

在存储层回答ceph 分布式存储组件的时候 被问到了映射 为什么ceph要去做三层映射？

面试官: 你有没有考虑过流量不干净的情况怎么办？ 用很简单的ddos攻击，你这个服务 我1分钟之内就能让他趴下。这个你考虑过吗？

面试官: 你这个底层本质上还是用队列做的。你有没有考虑过队列全满的情况？就是现在你的所有队列全部爆满，你根本没有办法去做请求迁移。这时候怎么处理？

虽然只面了25分钟，但是大概率知道自己过了。因为最后面试官说：你有什么问题吗。我觉得你OK。 我就问了关于他们团队的一些问题。

二面之后的三天，HR打电话过来约视频面，并说明视频面面完之后可能还要加一轮现场面。我说没问题。 后来又打电话过来，说面试官不同意视频和电话面。必须现场面。而且不报销任何路费。从深圳到北京 来回花了3000多。最后拒了。很伤很伤。


百度三面 现场面 70分钟。

从面试开始，我就没有想过会出现这种情况。

就是自己讲完腾讯的实习项目之后。面试官直接说。你这个项目是谁让你做的。你有没有质疑过，你这个项目从方案和逻辑上就是错的？

我 : ………………………….. (从这开始心里就有一些慌了。)
面试官：我们现在假设一种情况，就是我们的服务端是很安全的，你现在多一个第三方代理，我怎么信任你这个第三方代理？

我：我们这个服务是对内的。即使对外，我们也可以从请求上来判定。比如相同的IP的地址我们可以从频率上去限制他的请求。不同的IP地址 我们可以去从key(这个key 是有一个失效期，只能用一次，我们将这些不干净的流量尽量拦截在接入层，不让他进入我们的网关。)

面试官： 你可能理解错了我的意思，我的意思是，限制服务端去信任客户端。你凭空多出了一个第三方代理，虽然原则上确实方便了客户端的使用，但安全性怎么去保证？

我： 我们可以去做加密。Balabalabalalalalal……………

面试官： 你的意思我懂，但高并发请求如何去处理呢？

我： 从接入层(统一接入网关，负载均衡)…..从服务层(服务细分，过载保护)…..从存储层(cache,共享内存，分布式存储组件ceph)……没讲完就被打断了。

面试官: 你知不知道，你现在所做的可能都是没有意义的？

我: ………………………….

面试官：因为你们的服务端，绝对已经做过了这些处理。而且比你的第三方代理做的好。你现在的这个代理服务极其脆弱。你为什么不把他封装成一个接口呢？而不是一个服务。

我: …………………………………………

面试官： 你这个项目其实还是有很多有意思的东西，比如你知道为什么用appid和appsecret 去换取微信那边的一个access_token权限吗？

我：我们可以类比，淘宝登陆 除了用户名和密码 我们还需要手机验证码这样的方式。

面试官： 你这个类比不对，因为淘宝登陆他现在不信任你这个用户名和密码。需要多加一个验证方式。而通过appid appsecret 他的本质是换取 而不是加

你知道为什么要换取 ，而不是加吗？为什么要这样做。而不是把appid appsecret 存到数据库里面？

我：因为存到数据库里面，不够安全。只要是存在数据库里面的密钥。都可能有被攻破的风险。而access_token是实时生成的。

面试官： 咱们又绕回来了，那你做这个第三方代理的时候为什么用的是数据库？你既然知道access_token是实时生成的，那么就应该知道这个客户端令牌从原则上是不允许被其他人知道的，更不允许存到数据库里面。那咱们换一个问题。还是刚才，那咱们现在假设我们的服务端和数据库原则上是安全的，那么现在还是要用access_token去换取？我现在可以直接把appid和appsecret直接串起来串成一个字符串然后md5加密一下。可以这样做吗？如果不可以说出理由。

我：到这里我就懵逼了。。。。。

面试官：好，你现在去做代理服务器。去请求另一个接口。如何去提高他的性能？

我：去做那边接口的服务细分，每个接口去细分，再在存储层去做一些优化……………….

面试官：现在假设不允许你动那个接口呢。比如你现在去请求一个其他公司的接口，他就是慢。他那边代码写的就是很不好。你只可以动你的代理层。怎么处理？

我：多线程，分发，缓存，cdn.



如果给你 一亿个数字，找出最大的前 20 个。（TOP K 问题）

如果我只要第二十个怎么优化。

如果给你一个文件，文件里有上亿个无序字符串，设计一个算法把上亿个字符串进行排序。接着把这个有序的字符串输入到一个新的文件当中。（内存有限制）

让我讲讲我理解的线程。

多线程对公共资源同时访问。（线程安全，同步互斥）

问我了解没了解过递归锁。

C++ 11 有没有了解，讲讲。

讲讲虚函数、纯虚函数。

你懂 java 吗？ （楼主是真的不懂。面试官也就没深问。）

一个函数返回值为 bool 类型。但是返回 true 与 false 的概率不是百分之五十对百分之五十。要求利用这个函数设计一个新函数，使得新函数的返回值的概率为 50%。

问了一下能够实习的时间。毕设的问题。。

什么是同步，
什么是互斥，
什么是面向对象，
什么是事务，
。。。（还有一些想不起来的，感觉就是密密麻麻的知识点）
static在java和c#中的区别
观察者设计模式
排序算法
海量条记录，如何随机选择若干条记录的算法
linux怎么查看进程内存占用情况
还有一些项目相关的，代码量，难点，算法之类的


作者：C+++++++++
链接：https://www.nowcoder.com/discuss/100946
来源：牛客网

2. 虚函数实现机制（问的比较细）

3. 纯虚函数

4. 数据库索引原理（这块脑抽答错了 后来面试官人很好给我引导到B+树上去）

5. 聚集索引

6. TCP UDP 端口扫描 三次握手中 客户端和服务端主动链接关闭所处状态简述

7. 我记得一面面试官 问了很多关于网络的问题 （具体的现在忘记了）

8. 守护进程

9. 多进程之间通信方式

10. Buffer 和cache

11. 缓存命中和不命中

12. CDN


作者：C+++++++++
链接：https://www.nowcoder.com/discuss/100946
来源：牛客网

1. 微信获取权限的协议？（这个在百度问到了，后来在阿里又问到了，大家可以搜一下基于token 的后台管理 与普通用户名密码验证有什么具体不同）

2. 关于共享内存 mmap 映射文件。

3. Dcache

4. 分布式存储解决方案

5. https

6. 加密解密 加密算法（这块没答好）

7. Taf服务端源码/taf 客户端源码

作者：C+++++++++
链接：https://www.nowcoder.com/discuss/100946
来源：牛客网

2. 问了问项目，然后画风一转直接问你优化的点在哪里

3. 服务器性能提升方案

4. PS: 因为几个项目都和网络安全传输有关，三面面试官让我详述如何提升数据包在网络中的安全传输 安全性可靠性等问题

5. TIME_WAIT 的 2MSL

6. 看过哪些源码

7. 负载均衡

8. 数据库的垂直拆分和水平拆分

作者：lucky_girl_
链接：https://www.nowcoder.com/discuss/101607
来源：牛客网

2、你本科参加过那些比赛印象最深的是哪一个，担任的角色，做了哪些工作
3、看你简历上项目就写了现在的毕设，你做过其他的项目吗？
4、说说对c++面向对象的理解？封装继承多态的存在是为了什么、有什么优点吗？
5、说说多态实现原理
6、纯虚函数的作用、为什么要有纯虚函数（他又问，虚函数也可以重定义呀，纯虚函数出现到底是为了什么，他又讲到java的接口）
7、C++类型转换方式有哪些？分别说说。dynatic_cast失败会怎么样？什么时候返回空，什么时候抛出异常
8、空类。编译器会为之生成什么成员？（中间还讨论到：我说默认构造函数只有在编译器需要的时候才会产生。
他问我你什么意思默认函数就是编译器会自动生成的啊？）【难道默认构造函数不是只有编译器需要时才产生吗，哼】
9、说说对虚析构函数的理解？什么时候要把析构函数声明为virtual
10、平常用什么容器？说说常用的容器。vector的底层实现、扩容原理、size、capacity、resize、reserve四个函数
11、map底层实现、unordered_map底层实现？哪个写（插入、删除）快？
各个容器迭代器失效的情况。
12、程序运行出错，抛出异常，怎么调试？用过什么调试工具？gdb调试？（程序运行出错，会生成一个什么call(音译)文件？？？
面试官说的什么call(音译)文件是什么？）
13、知道什么智能指针？说说shared_ptr实现原理、线程安全不？
14、说说你理解的进程、线程？进程的内存分布？孤儿进程？
15、怎么理解物理内存、逻辑内存？如果中国每个人都有e-mail，把所有人e-mail都存到内存中，存得下吗？（13亿人，每人20字节，估算共多少内存）
16、多线程
17、数组与链表
18、给一个无序数组，求排好序后得每个元素在有序序列中的下标，要求原数组元素顺序不变？
给一个有序数组，从中拿出一个子序列(无序)，求其排好序后在原数组的下标
19、一条记录有十个字段，一个文件***十亿条记录，要求把每个字段放到一个文件中，怎么办？

作者：明月照相机
链接：https://www.nowcoder.com/discuss/88501
来源：牛客网

Q：我看你这边github上有一个协程库，能介绍一下协程的概念吗？
A：协程，用户级，轻量，快，效率高，但是不结合多线程难以利用多核
Q：能说一下怎么实现的吗？
A：讲了一下基于ucontext怎么切换上下文
Q：协程和线程的区别？
A：调度比较快，不用进内核。单Schedual难以利用多核？
Q：内存上有什么区别？
A：同一个CPU上多个协程不会产生临界区竞争。
Q：协程切换的时机？
A：定时器，文件阻塞，拿到锁阻塞，函数调用的时候。
Q：你写的库的对于使用者有什么优势？
A：……你可以用我的APIbalabala……
Q：给我一个用你的协程库的场景吧？？
A：YY了一个轮询读文件的场景。
Q：你这个说到了你维护了一个栈，这个栈是干什么的？栈的维护是你自己做的吗？
A：维护每个协程的上下文。我就只需要管理这块内存就可以。不是很完善……
Q：上个读文件的场景，什么时候才会阻塞？
A：设一个NONBLOCK位，在出错读到EAGAIN的时候就切换出去。
Q：如果两个都阻塞了呢？
A：那就没辙了……举了一个很多fd用epoll轮询的场景。
Q：从你个人角度有没有遇到过比较困难的场景？
A：balabala……
Q：说说你实习的项目？
A：balabala……
Q：说说map with mutex和sync.Map的区别？
A：Mutex是悲观锁，而且那个粒度比较大。sync.Map是带缓存的，体验和CAS差不多。
Q：聊点基础的吧
A：好……
Q：sizeof和strlen的区别？
A：你们都懂得
Q：一个int大概多大？
A：32位4个字节，64位8个字节
Q：int在内存中字节排布？
A：小端序
Q：虚函数指针什么时候会出现？
A：在有虚函数的时候~
Q：static的作用？
A：都懂得，这里不展开了
Q：多个进程同时监听一个UDP端口会怎么样？
A：不懂……
Q：你可以了解一下这方面。进程的内存结构？
A：内核、栈、动态链接库、堆、静态区、代码段、保留区
Q：静态变量和全局变量在哪个区？
A：静态区……
Q：++i和i++的区别？
A：++i效率比较高。
Q：虚基类和普通基类的区别？
A：菱形继承问题
Q：空类的大小？
A：1byte
Q：为啥？
A：不懂…
Q：引用和指针的区别？
A：都是用指针实现的。
Q：进程间通信？
A：socket, 管道，消息队列，共享内存
Q：TCP三次握手？
A：讲了讲（忘了讲状态转移）
Q：TIME_WAIT？
A：讲了讲……感觉面试官不是很满意？
Q：CLOSE_WAIT呢？
A：讲了讲……吐槽了一下一般都是代码写得有问题（逃
Q：epoll有几种类型？
A：ET，LT。
Q：调试程序用什么？
A：gdb，log，valgrind, vs
Q: CPU高了怎么看？
A：free+pprof，看火焰图
Q：其实C/C++也有类似地工具
A：嗯
Q：coredump有了解过吗？
A：只用过，不知道原理
Q：你可以再了解一下呀。这个还是很重要的。
A：好的
Q：hash冲突怎么解决？
A：拉链和线性探查
Q：还有啥要问我的？
A：你们这边比较青睐有什么技术积累的人？
Q：balabala…C/C++


作者：亚托克斯
链接：https://www.nowcoder.com/discuss/90335
来源：牛客网

2、科研经历（没说太清楚，面试官说下一个话题）

3、说说项目（说了一下华为的软挑和京东的物流优化的比赛）

4、C++基本知识（iphone不太会录音，只记得下面几个问题了）

1）说说static

2）说说多态

3）如何实现多态的

4）虚表和虚表指针

5）什么时候用虚析构函数

6）GDB调试 ，问了几个命令 （命令有点记不住，崩了）

7）动态链接和静态链接说一下 （不太懂）

5、操作系统

1）什么是守护进程

2）如何实现守护进程（不会）

6、网络编程

1）说说select（）、poll（）、epoll（）

2）epoll（）是用单线程实现（我说是单线程，I/O复用不需要多线程吧）

3）如何及时发现客户端已经和服务器断开连接了（我说的心跳机制）

7、发给了一个连接 ，写代码 两道题，给了30分钟

1）给定一个int数组，有n个元素，求出最大的k个元素（优先队列priority_queue)

2）给定两个有序数组X和Y，现在从两个数组中各取一个树x，y求和组成一个新数组，求新数组的最大k个数（可重复）。

如X={1,2,4} Y = {2,3,4} 新数组的最大两个数为：{4+4,3+4} = {8,7}

(暴力+上一题的接口；效率不高，面试官不太满意，让我再想想）


作者：nxjdndudbks
链接：https://www.nowcoder.com/discuss/121852
来源：牛客网

3.有没有看其他的课外书籍（专业方面的）
因为确实没有看过，我就回答的没有，然后说平时做比赛用到的都是在网上搜资料的，没有特意买书看。
5.那你看过哪些书？
主要是大学课程的相关课本。
6.会不会多线程
这里我回答的学过但没用过。后来思考了下这里回答的不好，我的本意是指没有实际的应用项目（实习，比赛项目这种）做过，我是做过课程项目的，多线程是会用的，也不知道为啥脑袋抽了回答没用过。难过。
7.介绍下公司实习
某公司c艹开发实习，为模块写测试，找到故障的话要修复巴拉巴拉的。
8.上班地点，成绩怎么样，为什么选华为，面试了几家，拿过奖学金吗
期望的地点xx,他看了我简历，问我是为了离家近吗，我说是
我觉得华为是一个很好的公司，很满意，很想进去。
华为是我秋招面试的第一家。
只拿过竞赛方面的奖学金，国奖我们系每年只有一个名额，没拿过。
8.有没有看过那本很厚的C语言
这里是我最想吐槽的问题，他的原话差不多就是这样，用手大概比了个厚度，我内心一阵崩溃。真不知道说的啥书。我思量了下书的厚度，只能回答：应该没看过，c语言的话看的是我门上课的那本
9.c艹分配内存
new什么什么的巴拉巴拉
10.c的内存管理机制
不知道
11.内存泄漏，
巴拉巴拉吧
12.觉得自己的优势
学东西很快巴拉巴拉巴拉的

作者：青城山下
链接：https://www.nowcoder.com/discuss/111752
来源：牛客网

1、谈一下new和malloc的区别？ 
简单说了malloc只分配内存，不能创建对象。 
2、析构函数的作用 
销毁对象？应该是清理在构造函数中所申请的内存空间。 
3、UML设计模式知道吗？有几种设计模式？ 
懵逼 
4、存储器的构成？操作系统学过没有？MMySQL数据库的优点是什么？ 
懵逼 
5、堆和栈的区别说一下 
6、信号量的作用 
7、linux内核了解吗？有几种锁？ 
我说的互斥锁和读写锁，考官说的是自旋锁 
8、手撕代码：用数组实现栈 
作者：青城山下
链接：https://www.nowcoder.com/discuss/111752
来源：牛客网

9、STL知道吗？写一个compare函数 
已经不耐烦，要求5分钟写完，过了一分钟，问你到底会不会？我说不会，我觉得该肯定进不了2面，于是准备收拾东西走人，他又来一句你比较熟悉linux下的开发是吧？我再次懵逼，难道不该说你这么水，可以回去等通知吗（领盒饭）？又问了下面2个问题。 
10、进程与线程的区别？ 
11、进程间通信的方式 
上面2个问题，我没有按照书面的解释来，用的是项目中使用的理解来说的。面试官说了一句：恭喜你通过了一面，现在去综合面试区（2面）等待面试。 
手撕代码那一关实在是最难熬的一关，还是基础问题，面试之前关于栈、队列部分的实现都是用链表做的，生无可恋！

问了Linux基础命令，操作系统
然后问了一下最熟悉的项目
c 虚函数，多态，工厂类自己提了一下。。
二分查找和快排随便选一个写。。

作者：凡此种种
链接：https://www.nowcoder.com/discuss/96410
来源：牛客网

1、TCP/IP 三次握手具体交换哪些信息？
2、C++多态的例子，开放封闭原则的意义（设计模式）；
3、项目；
4、多线程、多进程在实际服务器中的应用；
5、TCP慢启动、拥塞控制、快重传快恢复；
6、DNS服务；
7、怎么学习的平时，设计模式看什么书？

